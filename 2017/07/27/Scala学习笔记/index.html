<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="en">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Scala,Programming Language,Study Notes," />










<meta name="description" content="Parameterize arrays with types If a method takes only one parameter, you can call it without a dot or parentheses. 123println(123) // equal toConsole.println(123) // equal toConsole println 123  Scala">
<meta name="keywords" content="Scala,Programming Language,Study Notes">
<meta property="og:type" content="article">
<meta property="og:title" content="Scala学习笔记">
<meta property="og:url" content="https://ihac.xyz/2017/07/27/Scala学习笔记/index.html">
<meta property="og:site_name" content="Coding">
<meta property="og:description" content="Parameterize arrays with types If a method takes only one parameter, you can call it without a dot or parentheses. 123println(123) // equal toConsole.println(123) // equal toConsole println 123  Scala">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2018-03-18T02:49:54.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Scala学习笔记">
<meta name="twitter:description" content="Parameterize arrays with types If a method takes only one parameter, you can call it without a dot or parentheses. 123println(123) // equal toConsole.println(123) // equal toConsole println 123  Scala">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://ihac.xyz/2017/07/27/Scala学习笔记/"/>





  <title>Scala学习笔记 | Coding</title><!-- hexo-inject:begin --><!-- hexo-inject:end -->
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Coding</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Thoughts, stories and ideas</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="Searching..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://ihac.xyz/2017/07/27/Scala学习笔记/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xiao An">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Coding">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Scala学习笔记</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-07-27T14:43:05+08:00">
                2017-07-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h3 id="Parameterize-arrays-with-types"><a href="#Parameterize-arrays-with-types" class="headerlink" title="Parameterize arrays with types"></a>Parameterize arrays with types</h3><ul>
<li><p>If a method takes only one parameter, you can call it without a dot or parentheses.</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">println(<span class="number">123</span>) <span class="comment">// equal to</span></span><br><span class="line"><span class="type">Console</span>.println(<span class="number">123</span>) <span class="comment">// equal to</span></span><br><span class="line"><span class="type">Console</span> println <span class="number">123</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>Scala is an object-oriented language in pure form: every value is an object and every operation is a method call.</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> + <span class="number">2</span> <span class="comment">// actually invoking</span></span><br><span class="line">(<span class="number">1</span>).+(<span class="number">2</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>When you apply parentheses surrounding one or more values to a variable, Scala will transform the code into an invocation of a method named <code>apply</code> on that variable. It’s a general rule.</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> testArray: <span class="type">Array</span>[<span class="type">Int</span>] = <span class="keyword">new</span> <span class="type">Array</span>[<span class="type">Int</span>](<span class="number">5</span>)</span><br><span class="line">testArray(<span class="number">0</span>) <span class="comment">// get transformed into</span></span><br><span class="line">testArray.apply(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> numNames = <span class="type">Array</span>(<span class="string">"zero"</span>, <span class="string">"one"</span>, <span class="string">"two"</span>)</span><br><span class="line"><span class="comment">// get transformed into</span></span><br><span class="line"><span class="keyword">val</span> numNames2 = <span class="type">Array</span>.apply(<span class="string">"zero"</span>, ...)</span><br></pre></td></tr></table></figure>
</li>
<li><p>Similarly, when an assignment is made to a variable to which parentheses and on e or more arguments have been applied, the compiler will transform that into an invocation of an update method that takes the arguments in parentheses as well as the object to the right of the equals sign.</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">testArray(<span class="number">0</span>) = <span class="string">"hello"</span> <span class="comment">// get transformed into</span></span><br><span class="line">testArray.update(<span class="number">0</span>, <span class="string">"hello"</span>)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="Use-lists"><a href="#Use-lists" class="headerlink" title="Use lists"></a>Use lists</h3><ul>
<li><p>List is immutable in Scala. It has a method named <code>:::</code> for list concatenation.</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>) ::: <span class="type">List</span>(<span class="number">3</span>, <span class="number">4</span>) == <span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>We can also use <code>::</code>(pronounced <code>cons</code>) to prepends a new element to the beginning of an existing list and returns the resulting list. Here <code>::</code> is a method of its right operand.(If a method is used in operator notation, such as <code>a * b</code>, the method is invoked on the left operand, as in <code>a.*(b)</code>——unless the method name ends in a colon)</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> :: <span class="type">List</span>(<span class="number">2</span>, <span class="number">3</span>) == <span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line"><span class="comment">// get transformed into</span></span><br><span class="line"><span class="type">List</span>(<span class="number">2</span>, <span class="number">3</span>).::(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> oneTwoThree = <span class="number">1</span> :: <span class="number">2</span> :: <span class="number">3</span> :: <span class="type">Nil</span></span><br><span class="line"><span class="comment">// here Nil is an empty list</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>The time it takes to append to a list grows linearly with the size of the list, whereas prepending with <code>::</code> takes constant time. If you want to build a list efficiently by appending elements, you can prepend them and call reverse, or use ListBuilder.</p>
</li>
</ul>
<h3 id="Use-tuples"><a href="#Use-tuples" class="headerlink" title="Use tuples"></a>Use tuples</h3><ul>
<li><p>The actual type of a tuple depends on the number of elements it contains and the types of those elements. Thus, the type of <code>(99, &quot;Luftballons&quot;)</code> is <code>Tuple2[Int, String]</code>.</p>
</li>
<li><p>The <code>_N</code> numbers for accessing the elements of a tuple are one-based, instead of zero-based, because starting with 1 is a tradition set by other languages with statically typed tuples.</p>
</li>
</ul>
<h3 id="Use-sets-and-maps"><a href="#Use-sets-and-maps" class="headerlink" title="Use sets and maps"></a>Use sets and maps</h3><ul>
<li><p>The Scala API contains a base <code>trait</code> for sets, where a trait is similar to a Java interface. Scala then provides two subtraits, one for mutable sets and another for immutable sets.</p>
</li>
<li><p>Method <code>-&gt;</code>, which you can invoke on any object in a Scala program, returns a two-element tuple containing the key and value.</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">someMap += (<span class="number">1</span> -&gt; <span class="string">"hello"</span>) <span class="comment">// get transformed into</span></span><br><span class="line">someMap += (<span class="number">1</span>).-&gt;(<span class="string">"hello"</span>)</span><br><span class="line">someMap += ((<span class="number">1</span>, <span class="string">"hello"</span>))</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="Classes-fields-and-methods"><a href="#Classes-fields-and-methods" class="headerlink" title="Classes, fields, and methods"></a>Classes, fields, and methods</h3><ul>
<li><p>One important characteristic of method parameters in Scala is that they are vals, not vars. Never reassign a parameter inside a method in Scala.</p>
</li>
<li><p>In the absence of any explicit return statement, a Scala method returns the last value computed by the method. The recommended style for methods is in fact to avoid having explicit, and especially multiple, return statements. Instead, think of each method as an expression that yields one value.</p>
</li>
</ul>
<h3 id="Singleton-objects"><a href="#Singleton-objects" class="headerlink" title="Singleton objects"></a>Singleton objects</h3><ul>
<li><p>When a singleton object shares the same name with a class, it is called that class’s <code>companion object</code>. You must define both the class and its companion object in the same source file. A class and its companion object can access each other’s private members.</p>
</li>
<li><p>A singleton object that does not share the same name with a companion class is called a standalone object.</p>
</li>
</ul>
<h3 id="Symbol-literals"><a href="#Symbol-literals" class="headerlink" title="Symbol literals"></a>Symbol literals</h3><ul>
<li><code>Symbol</code>s are interned in Scala, which means that if you write the same symbol literal twice, both expressions will refer to the exact same Symbol object.</li>
</ul>
<h3 id="String-interpolation"><a href="#String-interpolation" class="headerlink" title="String interpolation"></a>String interpolation</h3><ul>
<li>In Scala, string interpolation is implemented by rewriting code at compile time.</li>
</ul>
<h3 id="Any-method-can-be-an-operator"><a href="#Any-method-can-be-an-operator" class="headerlink" title="Any method can be an operator"></a>Any method can be an operator</h3><ul>
<li><p>infix operator notation</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s.indexOf('a') == s indexOf 'a'</span><br><span class="line">s.indexOf('a', <span class="number">3</span>) == s indexOf ('a', <span class="number">3</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>prefix operator notation</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">-2.0</span> == (<span class="number">2.0</span>).unary_-</span><br></pre></td></tr></table></figure>
</li>
<li><p>postfix operator notation</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">s.toLowerCase == s toLowerCase</span><br></pre></td></tr></table></figure>
</li>
<li><p>In Scala, you can leave off empty parentheses on method calls. The convention is that you include parentheses if the method has side effects, such as <code>println()</code>, but you can leave them off if the method has no side effects, such as <code>toLowerCase</code> invoked on a <code>String</code>.</p>
</li>
</ul>
<h3 id="Operator-precedence-and-tivity"><a href="#Operator-precedence-and-tivity" class="headerlink" title="Operator precedence and  tivity"></a>Operator precedence and  tivity</h3><ul>
<li>The associativity rule also plays a role when multiple operators of the same precedence appear side by side. If the methods end in <code>:</code> they are grouped right to left; otherwise, they are grouped left to right. For example, <code>a ::: b ::: c</code> is treated as <code>a ::: (b ::: c)</code>. But <code>a * b * c</code>, by contrast, is treated as <code>(a * b) * c</code>.</li>
</ul>
<h3 id="Value-of-assignment"><a href="#Value-of-assignment" class="headerlink" title="Value of assignment"></a>Value of assignment</h3><ul>
<li>In Java or C, assignments result in the value assigned, while in Scala, assignments always result in the unit value, <code>()</code>.<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> ((line = readline()) != <span class="string">""</span>) &#123; <span class="comment">// wrong</span></span><br><span class="line">  <span class="comment">// do something</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>Here <code>line = readline()</code> will always be <code>()</code> and can never be <code>&quot;&quot;</code>.</p>
<h3 id="Exception-handling-with-try-expressions"><a href="#Exception-handling-with-try-expressions" class="headerlink" title="Exception handling with try expressions"></a>Exception handling with try expressions</h3><ul>
<li><p><code>try-catch-finally</code> results in a value. The result is that of the try clause if no exception is thrown, or the relevant catch clause if an exception is throw and caught. If an exception is thrown but not caught, the expression has no result at all. The value computed in the finally clause, if there is one, is dropped.</p>
</li>
<li><p>As in Java, if a finally clause includes an explicit return statement, or throws an exception, that return value or exception will “overrule” any previous one that originated in the try block or one of its catch clauses.</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span></span>(): <span class="type">Int</span> = <span class="keyword">try</span> <span class="keyword">return</span> <span class="number">1</span> <span class="keyword">finally</span> <span class="keyword">return</span> <span class="number">2</span> <span class="comment">// f() == 2</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">g</span></span>(): <span class="type">Int</span> = <span class="keyword">try</span> <span class="number">1</span> <span class="keyword">finally</span> <span class="number">2</span> <span class="comment">// g() == 1</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="Short-forms-of-function-literals"><a href="#Short-forms-of-function-literals" class="headerlink" title="Short forms of function literals"></a>Short forms of function literals</h3><ul>
<li>This is called <code>target typing</code> because the targeted usage of an expression(in this case, an argument to someNumber.filter()) is allowed to influence the typing of that expression(in this case to determine the type of the x parameter).<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> someNumbers = <span class="type">List</span>(<span class="number">-11</span>, <span class="number">-10</span>, <span class="number">-5</span>, <span class="number">0</span>, <span class="number">5</span>, <span class="number">10</span>)</span><br><span class="line">someNumbers.filter((x: <span class="type">Int</span>) =&gt; x &gt; <span class="number">0</span>)</span><br><span class="line">someNumbers.filter(x =&gt; x &gt; <span class="number">0</span>)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="Placeholder-syntax"><a href="#Placeholder-syntax" class="headerlink" title="Placeholder syntax"></a>Placeholder syntax</h3><ul>
<li>We can use underscores as placeholders for one or more parameters, so long as each parameter appears only one time within the function literal.<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">someNumbers.filter(_ &gt; <span class="number">0</span>)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="Repeated-parameters"><a href="#Repeated-parameters" class="headerlink" title="Repeated parameters"></a>Repeated parameters</h3><ul>
<li><p>Scala allows you to indicate that the last parameter may be repeated as below. Thus, the type of args inside the echo function, which is declared as type <code>String*</code> is actually <code>Array[String]</code>. Nevertheless, an array cannot be passed as a repeated parameter.</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">echo</span></span>(args: <span class="type">String</span>*) = args.map(println)</span><br><span class="line"><span class="keyword">val</span> arr = <span class="type">Array</span>(<span class="string">"hello"</span>, <span class="string">"world"</span>, <span class="string">"hac"</span>)</span><br><span class="line">echo(arr) <span class="comment">// compiler error</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>To accomplish this, you’ll need no append the array argument with a colon and an <code>_*</code> symbol as below. This notation tells the compiler to pass each element of array as its own argument to echo, rather than all of it as a single argument.</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo(arr: _*)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="Tail-call-optimization"><a href="#Tail-call-optimization" class="headerlink" title="Tail call optimization"></a>Tail call optimization</h3><ul>
<li><p>We can turn tail call optimization off by giving the following argument to the scala shell or to the scalac compiler.</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-g:notailcalls</span><br></pre></td></tr></table></figure>
</li>
<li><p>Scala only optimizes directly recursive calls back to the same function making the call. If the recursion is indirect, as in the following example of two mutually recursive functions, no optimization is possible:</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">isEven</span></span>(x: <span class="type">Int</span>): <span class="type">Boolean</span> =</span><br><span class="line">  <span class="keyword">if</span> (x == <span class="number">0</span>) <span class="literal">true</span> <span class="keyword">else</span> isOdd(x - <span class="number">1</span>)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">isOdd</span></span>(x: <span class="type">Int</span>): <span class="type">Boolean</span> =</span><br><span class="line">  <span class="keyword">if</span> (x == <span class="number">0</span>) <span class="literal">false</span> <span class="keyword">else</span> isEven(x - <span class="number">1</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>You also won’t get a tail-call optimization if the final call goes to a function value. Tail-call optimization is limited to situations where a method or nested function calls itself directly as its last operation, without going through a function value or some other intermediary.</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> funValue = nextedFun _</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">nestedFun</span></span>(x: <span class="type">Int</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">  <span class="keyword">if</span> (x != <span class="number">0</span>) &#123; println(x); funValue(x - <span class="number">1</span>) &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="Evaluation-strategies"><a href="#Evaluation-strategies" class="headerlink" title="Evaluation strategies"></a>Evaluation strategies</h3><ul>
<li><p>There are two evaluation strategies in Scala: <code>call by name</code> and <code>call by value</code>.</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">loop</span></span>: <span class="type">Any</span> = loop <span class="comment">// never terminate</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span></span>(x: <span class="type">Any</span>, y: <span class="type">Any</span>) = x <span class="comment">// call by value</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">goo</span></span>(x: <span class="type">Any</span>, y: =&gt; <span class="type">Any</span>) = x <span class="comment">// call by name</span></span><br><span class="line"></span><br><span class="line">foo(<span class="number">2</span>, loop) <span class="comment">// never terminate</span></span><br><span class="line">goo(<span class="number">2</span>, loop) = <span class="number">2</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>The <code>def</code> form is <code>call by name</code>, which means that its right hand side is evaluated on each use. However, the <code>val</code> form is <code>call by value</code>.</p>
</li>
</ul>
<h3 id="Unary-operator"><a href="#Unary-operator" class="headerlink" title="Unary operator"></a>Unary operator</h3><ul>
<li>We override unary operator by using <code>unary_{operator}</code>.<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">unary_-</span> </span>: <span class="type">T</span> = <span class="keyword">this</span>.negative</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="Class-hierarchy"><a href="#Class-hierarchy" class="headerlink" title="Class hierarchy"></a>Class hierarchy</h3><ul>
<li>There are 9 value classes in Scala: Byte, Short, Char, Boolean, Int, Long, Float, Double, Unit. You cannot create instances of these classes using <code>new</code>. Instead, all instances of these classes are written as literals. This is enforced by the “trick” that value classes are all defined to be both <code>abstract</code> and <code>final</code>.</li>
</ul>
<h3 id="Trait"><a href="#Trait" class="headerlink" title="Trait"></a>Trait</h3><ul>
<li>You can do anything in <code>trait</code> definition that you can do in a class definition, and the syntax looks exactly the same, with only two exceptions.<ul>
<li>A trait cannot have any “class” parameters.</li>
<li>In classes, <code>super call</code> is statically bound, while in traits, super calls are dynamically bound.</li>
</ul>
</li>
</ul>
<h3 id="Import"><a href="#Import" class="headerlink" title="Import"></a>Import</h3><ul>
<li>In scala, an import selector can consist of the following:<ul>
<li>A simple name <code>x</code>. This includes <code>x</code> in the set of imported names.</li>
<li>A renaming clause <code>x =&gt; y</code>. This makes the member named <code>x</code> visible under the name <code>y</code>.</li>
<li>A hiding clause <code>x =&gt; _</code>. This excludes <code>x</code> from the set of imported names.</li>
<li>A <em>catch-all</em> <code>_</code>. This imports all members except those members mentioned in a preceding clause. If a catch-all is given, it must come last in the list of import selectors.</li>
</ul>
</li>
</ul>
<h3 id="Access-modifiers"><a href="#Access-modifiers" class="headerlink" title="Access modifiers"></a>Access modifiers</h3><ul>
<li><p>Java permits an outer class to access the private members of its inner classes, while Scala not.</p>
</li>
<li><p>Access to protected members in Scala is also a bit more restrictive than in Java. In Scala, a protected member is only accessible from subclasses of the class in which the member is defined. While in Java, such accesses are also possible from other classes in the same package.</p>
</li>
<li><p>Access modifiers can be augmented with qualifiers in Scala. A modifier form <code>private[X]</code> or <code>protect[X]</code> means that access is private or protect <strong>up to</strong> <code>X</code>, where <code>X</code> designates some enclosing package, class or singleton object.</p>
</li>
</ul>
<hr>
<p><em>To Be Continued</em></p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Scala/" rel="tag"># Scala</a>
          
            <a href="/tags/Programming-Language/" rel="tag"># Programming Language</a>
          
            <a href="/tags/Study-Notes/" rel="tag"># Study Notes</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/05/11/Git技术笔记/" rel="next" title="Git技术笔记">
                <i class="fa fa-chevron-left"></i> Git技术笔记
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/03/23/LeetCode-15-3Sum/" rel="prev" title="[LeetCode] 15. 3Sum">
                [LeetCode] 15. 3Sum <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar.png"
                alt="Xiao An" />
            
              <p class="site-author-name" itemprop="name">Xiao An</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">18</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">2</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">15</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/ihac" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://plus.google.com/u/0/117973548704440941150" target="_blank" title="Google">
                      
                        <i class="fa fa-fw fa-google"></i>Google</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://stackoverflow.com/users/7708919/hac" target="_blank" title="StackOverflow">
                      
                        <i class="fa fa-fw fa-stack-overflow"></i>StackOverflow</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://twitter.com/zjuhac" target="_blank" title="Twitter">
                      
                        <i class="fa fa-fw fa-twitter"></i>Twitter</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:hac@zju.edu.cn" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#Parameterize-arrays-with-types"><span class="nav-number">1.</span> <span class="nav-text">Parameterize arrays with types</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Use-lists"><span class="nav-number">2.</span> <span class="nav-text">Use lists</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Use-tuples"><span class="nav-number">3.</span> <span class="nav-text">Use tuples</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Use-sets-and-maps"><span class="nav-number">4.</span> <span class="nav-text">Use sets and maps</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Classes-fields-and-methods"><span class="nav-number">5.</span> <span class="nav-text">Classes, fields, and methods</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Singleton-objects"><span class="nav-number">6.</span> <span class="nav-text">Singleton objects</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Symbol-literals"><span class="nav-number">7.</span> <span class="nav-text">Symbol literals</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#String-interpolation"><span class="nav-number">8.</span> <span class="nav-text">String interpolation</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Any-method-can-be-an-operator"><span class="nav-number">9.</span> <span class="nav-text">Any method can be an operator</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Operator-precedence-and-tivity"><span class="nav-number">10.</span> <span class="nav-text">Operator precedence and  tivity</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Value-of-assignment"><span class="nav-number">11.</span> <span class="nav-text">Value of assignment</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Exception-handling-with-try-expressions"><span class="nav-number">12.</span> <span class="nav-text">Exception handling with try expressions</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Short-forms-of-function-literals"><span class="nav-number">13.</span> <span class="nav-text">Short forms of function literals</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Placeholder-syntax"><span class="nav-number">14.</span> <span class="nav-text">Placeholder syntax</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Repeated-parameters"><span class="nav-number">15.</span> <span class="nav-text">Repeated parameters</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Tail-call-optimization"><span class="nav-number">16.</span> <span class="nav-text">Tail call optimization</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Evaluation-strategies"><span class="nav-number">17.</span> <span class="nav-text">Evaluation strategies</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Unary-operator"><span class="nav-number">18.</span> <span class="nav-text">Unary operator</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Class-hierarchy"><span class="nav-number">19.</span> <span class="nav-text">Class hierarchy</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Trait"><span class="nav-number">20.</span> <span class="nav-text">Trait</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Import"><span class="nav-number">21.</span> <span class="nav-text">Import</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Access-modifiers"><span class="nav-number">22.</span> <span class="nav-text">Access modifiers</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2016 &mdash; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Xiao An</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->
  


  

  

</body>
</html>
